<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>مكتبة خواطر | Khawater Library</title>

<meta name="description" content="أرقى دفاتر التخرج والأرواب في الأردن">
<meta property="og:title" content="مكتبة خواطر">
<meta property="og:image" content="images/Main_notebook.jpg">

<link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://unpkg.com/lucide@latest"></script>

<style>
:root {
    --navy:#0F172A;
    --gold:#D4AF37;
}

body{
    font-family:'Cairo',sans-serif;
    background:#F8FAFC;
    color:var(--navy);
    overflow-x:hidden;
}

/* ===== CATEGORY CARD ===== */
.category-card{
    height:420px;
    border-radius:2rem;
    overflow:hidden;
    position:relative;
    background:#e2e8f0;
    cursor:pointer;
    opacity:1;
}

@media(min-width:768px){
    .category-card{height:500px;}
}

.card-bg{
    position:absolute;
    inset:0;
    object-fit:cover;
    will-change:transform;
}

@media (hover:hover){
    .category-card:hover .card-bg{
        transform:scale(1.08);
    }
}

.overlay{
    position:absolute;
    inset:0;
    background:linear-gradient(to bottom,rgba(0,0,0,.1),rgba(15,23,42,.9));
}

.card-content{
    position:relative;
    z-index:2;
    height:100%;
    display:flex;
    flex-direction:column;
    justify-content:space-between;
    padding:1.5rem;
    color:white;
}

/* ===== GALLERY ===== */
.gallery-item{
    aspect-ratio:4/5;
    overflow:hidden;
    border-radius:1.25rem;
    background:#cbd5e1;
    cursor:pointer;
}

/* ===== MODAL ===== */
#modal{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(15,23,42,.96);
    z-index:999;
}

@media(max-width:767px){
    #modal{backdrop-filter:none;}
}

.active-thumb{
    border:3px solid var(--gold);
    transform:scale(1.1);
}
</style>
</head>

<body>

<!-- NAV -->
<nav class="fixed top-0 w-full bg-white/90 backdrop-blur z-50 p-4 flex justify-between">
    <h1 class="font-black text-xl">مكتبة <span class="text-yellow-500">خواطر</span></h1>
</nav>

<!-- MAIN -->
<main class="pt-28 max-w-7xl mx-auto px-4">

<!-- HOME -->
<section id="homeView">
<header id="heroHeader" class="text-center mb-16">
<h2 class="text-4xl md:text-6xl font-black">احتفل بتخرجك<br><span class="text-yellow-500">بفخامة</span></h2>
</header>

<div class="grid md:grid-cols-3 gap-8">

<div onclick="openCategory('notebook','دفاتر تخرج')" class="category-card">
<img src="images/Main_notebook.jpg" loading="lazy" decoding="async" class="card-bg">
<div class="overlay"></div>
<div class="card-content">
<h3 class="text-3xl font-black">دفاتر تخرج</h3>
<p>أرقى الدفاتر المذهبة</p>
</div>
</div>

<div onclick="openCategory('robe_bachelor','أرواب تخرج')" class="category-card">
<img src="images/Main_robe.jpg" loading="lazy" decoding="async" class="card-bg">
<div class="overlay"></div>
<div class="card-content">
<h3 class="text-3xl font-black">أرواب تخرج</h3>
<p>خامات فاخرة</p>
</div>
</div>

<div onclick="openCategory('robe_master','أرواب ماستر')" class="category-card">
<img src="images/Main_robe_master.jpg" loading="lazy" decoding="async" class="card-bg">
<div class="overlay"></div>
<div class="card-content">
<h3 class="text-3xl font-black">أرواب الماستر</h3>
<p>تفاصيل ملكية</p>
</div>
</div>

</div>
</section>

<!-- GALLERY -->
<section id="galleryView" class="hidden">
<button onclick="goHome()" class="mb-6">⬅ رجوع</button>
<h2 id="galleryTitle" class="text-3xl font-black mb-6"></h2>
<div id="imageGrid" class="grid grid-cols-2 md:grid-cols-4 gap-6"></div>
</section>

</main>

<!-- MODAL -->
<div id="modal" onclick="closeModal(event)">
<div class="h-full flex flex-col justify-center items-center">
<img id="modalImg" class="max-h-[70vh] rounded-xl">
<div class="flex gap-3 mt-4" id="thumbs"></div>
</div>
</div>

<script>
lucide.createIcons();

/* ===== DATA ===== */
const DB={
 notebook:['images/notebook/1.jpg','images/notebook/2.jpg'],
 robe_bachelor:['images/robe_bachelor/1.jpg','images/robe_bachelor/2.jpg'],
 robe_master:['images/robe_master/1.jpg']
};

let current=[];let index=0;

/* ===== ANIMATION ===== */
window.onload=()=>{
 if(innerWidth>768){
   gsap.from("#heroHeader",{opacity:0,y:30,duration:1});
   gsap.from(".category-card",{opacity:0,y:30,stagger:.15});
 }
};

/* ===== NAV ===== */
function openCategory(cat,title){
 document.getElementById('homeView').classList.add('hidden');
 document.getElementById('galleryView').classList.remove('hidden');
 document.getElementById('galleryTitle').innerText=title;
 loadGallery(cat);
 scrollTo(0,0);
}

function goHome(){
 document.getElementById('galleryView').classList.add('hidden');
 document.getElementById('homeView').classList.remove('hidden');
}

/* ===== GALLERY ===== */
function loadGallery(cat){
 const grid=document.getElementById('imageGrid');
 grid.innerHTML='';
 current=DB[cat]||[];
 current.forEach((img,i)=>{
   const d=document.createElement('div');
   d.className='gallery-item';
   d.onclick=()=>openModal(i);
   d.innerHTML=`<img src="${img}" loading="lazy" class="w-full h-full object-cover">`;
   grid.appendChild(d);
 });
}

/* ===== MODAL ===== */
function openModal(i){
 index=i;
 const modal=document.getElementById('modal');
 modal.style.display='block';
 document.getElementById('modalImg').src=current[index];
 const thumbs=document.getElementById('thumbs');
 thumbs.innerHTML='';
 current.forEach((img,j)=>{
   const t=document.createElement('img');
   t.src=img;
   t.className='h-16 rounded cursor-pointer '+(j===i?'active-thumb':'opacity-40');
   t.onclick=(e)=>{e.stopPropagation();openModal(j);}
   thumbs.appendChild(t);
 });
}

function closeModal(e){
 if(e.target.id==='modal'){
   document.getElementById('modal').style.display='none';
 }
}
</script>

</body>
</html>
